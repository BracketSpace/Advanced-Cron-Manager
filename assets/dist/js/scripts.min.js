function ACM_Slidebar(){this.container=jQuery(".slidebar"),this.overlay=jQuery(".slidebar-overlay"),this.close_button=jQuery(".slidebar .close"),this.close_button.click({slidebar:this},function(e){e.data.slidebar.close()}),this.overlay.click({slidebar:this},function(e){e.data.slidebar.close()}),this.open=function(){this.container.animate({"margin-right":0},400,"easeInOutSine"),this.overlay.fadeIn(400)},this.close=function(){var e=this.container.find(".content .form");this.container.animate({"margin-right":"-"+(this.container.outerWidth()+5)},400,"easeInOutSine",function(){e.html("")}),this.overlay.fadeOut(400)},this.wait=function(){this.container.find(".content").addClass("loading")},this.fulfill=function(e){this.container.find(".content .form").html(e),this.container.find(".content").removeClass("loading")},this.form_process_start=function(e){this.container.find(".content .send-form").attr("disabled",!0),this.container.find(".content .spinner").css("visibility","visible")},this.form_process_stop=function(e){this.container.find(".content .send-form").attr("disabled",!1),this.container.find(".content .spinner").css("visibility","hidden")}}!function(e){function n(n){if(n=void 0!==n&&n)var a=":checked";else var a="";return e("#events .events .single-event.row:visible .cb input:checkbox"+a)}function a(){n().prop("checked",!1),c.prop("checked",!1)}var c=e(".single-event.header .select-all");c.on("change",function(){n().prop("checked",this.checked),c.prop("checked",this.checked)}),n().on("change",function(){c.prop("checked",n(!0).length==n().length)}),wp.hooks.addAction("advanced-cron-manager/events/search/triggered",a),wp.hooks.addAction("advanced-cron-manager/events/filter/schedule",a)}(jQuery),advanced_cron_manager.notify=function(e,n){n=void 0===n?"":'<span class="dashicons dashicons-'+n+'"></span>',Materialize.toast(n+e,4e3)},advanced_cron_manager.ajax_messages=function(e){1==e.success?advanced_cron_manager.notify(e.data,"yes"):jQuery.each(e.data,function(e,n){advanced_cron_manager.notify(n,"warning")})},advanced_cron_manager.slidebar=new ACM_Slidebar,function(e){function n(){var n=e("#events .events .single-event.row:visible").length;e("#events .tablenav .tablenav-pages .displaying-num").text(n+" "+advanced_cron_manager.i18n.events)}wp.hooks.addAction("advanced-cron-manager/events/filter/schedule",n,100),wp.hooks.addAction("advanced-cron-manager/events/search/triggered",n,100)}(jQuery),function(e){var n=function(n){n.preventDefault(),$link=e(this),$row=$link.parents(".single-event").first(),$row.toggleClass("unfolded"),$row.hasClass("unfolded")&&wp.hooks.doAction("advanced-cron-manager/event/details/unfolded",$row)};e("#events").on("click",".columns .event .row-actions .details a",n),e("#events").on("click",".columns .event .event-name",n)}(jQuery),function(e){e("#events .tablenav .schedules-filter").on("change",function(){wp.hooks.doAction("advanced-cron-manager/events/filter/schedule",e(this).val())}),wp.hooks.addAction("advanced-cron-manager/events/filter/schedule",function(n){e("#events .events .single-event.row").each(function(){var a=e(this);a.data("schedule")==n||""==n?a.show():a.hide()})}),wp.hooks.addAction("advanced-cron-manager/events/search/triggered",function(){e("#events .tablenav .schedules-filter").val("")})}(jQuery),function(e){e(".tools_page_advanced-cron-manager").on("click",".add-schedule",function(n){n.preventDefault(),wp.hooks.doAction("advanced-cron-manager/schedule/add",e(this))}),e(".tools_page_advanced-cron-manager").on("click","#schedules .single-schedule .actions .edit-schedule",function(n){n.preventDefault(),wp.hooks.doAction("advanced-cron-manager/schedule/edit",e(this).parents(".single-schedule").first())}),e(".slidebar").on("submit",".schedule-add",function(n){n.preventDefault(),wp.hooks.doAction("advanced-cron-manager/schedule/add/process",e(this))}),e(".slidebar").on("submit",".schedule-edit",function(n){n.preventDefault(),wp.hooks.doAction("advanced-cron-manager/schedule/edit/process",e(this))}),e(".tools_page_advanced-cron-manager").on("click","#schedules .single-schedule .actions .remove-schedule",function(n){n.preventDefault(),wp.hooks.doAction("advanced-cron-manager/schedule/remove/process",e(this).parents(".single-schedule").first())}),wp.hooks.addAction("advanced-cron-manager/schedule/add",function(n){advanced_cron_manager.slidebar.open(),advanced_cron_manager.slidebar.wait();var a={action:"acm/schedule/add/form",nonce:n.data("nonce")};e.post(ajaxurl,a,function(e){advanced_cron_manager.slidebar.fulfill(e.data)})}),wp.hooks.addAction("advanced-cron-manager/schedule/add/process",function(n){advanced_cron_manager.slidebar.form_process_start();var a={action:"acm/schedule/insert",nonce:n.find("#nonce").val(),data:n.serialize()};e.post(ajaxurl,a,function(e){advanced_cron_manager.ajax_messages(e),1==e.success&&wp.hooks.doAction("advanced-cron-manager/schedule/added",n.find("#schedule-slug").val())})}),wp.hooks.addAction("advanced-cron-manager/schedule/edit",function(n){event.preventDefault();var a=n.find(".actions .edit-schedule"),c=a.data("schedule");advanced_cron_manager.slidebar.open(),advanced_cron_manager.slidebar.wait();var s={action:"acm/schedule/edit/form",nonce:a.data("nonce"),schedule:c};e.post(ajaxurl,s,function(e){advanced_cron_manager.slidebar.fulfill(e.data)})}),wp.hooks.addAction("advanced-cron-manager/schedule/edit/process",function(n){advanced_cron_manager.slidebar.form_process_start();var a={action:"acm/schedule/edit",nonce:n.find("#nonce").val(),data:n.serialize()};e.post(ajaxurl,a,function(e){advanced_cron_manager.ajax_messages(e),1==e.success&&wp.hooks.doAction("advanced-cron-manager/schedule/edited",n.find("#schedule-slug").val())})}),wp.hooks.addAction("advanced-cron-manager/schedule/remove/process",function(n){var a=n.find(".actions .remove-schedule");a.addClass("working");var c=a.data("schedule"),s={action:"acm/schedule/remove",nonce:a.data("nonce"),schedule:c};e.post(ajaxurl,s,function(e){advanced_cron_manager.ajax_messages(e),1==e.success?(n.slideUp(),wp.hooks.doAction("advanced-cron-manager/schedule/removed",c)):a.removeClass("working")})});var n=function(){e("#schedules").addClass("loading"),e.post(ajaxurl,{action:"acm/rerender/schedules"},function(n){e("#schedules").replaceWith(n.data),advanced_cron_manager.slidebar.form_process_stop(),advanced_cron_manager.slidebar.close()})};wp.hooks.addAction("advanced-cron-manager/schedule/added",n),wp.hooks.addAction("advanced-cron-manager/schedule/edited",n),e(".slidebar").on("blur","#schedule-name",function(){var n=e(this).val();if(""==e(".slidebar #schedule-slug").val()){var a=n.trim().toLowerCase().replace(/ /g,"_");e(".slidebar #schedule-slug").val(a)}}),e(".slidebar").on("change","table .spinbox",function(){var n=0;e(".slidebar table .spinbox").each(function(){var a=e(this);if(a.hasClass("days"))var c=86400;else if(a.hasClass("hours"))var c=3600;else if(a.hasClass("minutes"))var c=60;else var c=1;n+=a.val()*c}),e(".slidebar .total-seconds span").text(n),e(".slidebar .interval-input").val(n)})}(jQuery),function(e){var n;e("#search").bind("input",function(){window.clearTimeout(n),n=window.setTimeout(function(){wp.hooks.doAction("advanced-cron-manager/events/search/triggered",e("#search").val())},400)}),wp.hooks.addAction("advanced-cron-manager/events/search/triggered",function(n){e("#events .events .single-event.row").each(function(){var a=e(this);-1==a.find(".columns .event .event-name").text().toLowerCase().indexOf(n.toLowerCase())?a.hide():a.show()})}),wp.hooks.addAction("advanced-cron-manager/events/filter/schedule",function(){e("#search").val("")})}(jQuery),function(e){e("#events").on("click",".details .tabs a",function(n){n.preventDefault();var a=e(this).data("section"),c=e(this).parents(".details").first();c.find(".tabs li.active").removeClass("active"),e(this).parent().addClass("active"),c.find(".content.active").removeClass("active"),c.find(".content."+a).addClass("active"),wp.hooks.doAction("advanced-cron-manager/event/details/tabs/changed",a)})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyIsImJ1bGstYWN0aW9ucy5qcyIsImNvdW50ZXIuanMiLCJkZXRhaWxzLmpzIiwiZmlsdGVyLmpzIiwic2NoZWR1bGUtYWN0aW9ucy5qcyIsInNlYXJjaC5qcyIsInRhYnMuanMiXSwibmFtZXMiOlsiQUNNX1NsaWRlYmFyIiwidGhpcyIsImNvbnRhaW5lciIsImpRdWVyeSIsIm92ZXJsYXkiLCJjbG9zZV9idXR0b24iLCJjbGljayIsInNsaWRlYmFyIiwiZXZlbnQiLCJkYXRhIiwiY2xvc2UiLCJvcGVuIiwiYW5pbWF0ZSIsIm1hcmdpbi1yaWdodCIsImZhZGVJbiIsIiRmb3JtIiwiZmluZCIsIm91dGVyV2lkdGgiLCJodG1sIiwiZmFkZU91dCIsIndhaXQiLCJhZGRDbGFzcyIsImZ1bGZpbGwiLCJyZW1vdmVDbGFzcyIsImZvcm1fcHJvY2Vzc19zdGFydCIsImF0dHIiLCJjc3MiLCJmb3JtX3Byb2Nlc3Nfc3RvcCIsIiQiLCJnZXRfYWxsX2NoZWNrYm94ZXMiLCJjaGVja2VkIiwiYXBwZW5kaXgiLCJjbGVhcl9hbGxfY2hlY2tib3hlcyIsInByb3AiLCIkY2JfYWxsIiwib24iLCJsZW5ndGgiLCJ3cCIsImhvb2tzIiwiYWRkQWN0aW9uIiwiYWR2YW5jZWRfY3Jvbl9tYW5hZ2VyIiwibm90aWZ5Iiwibm90aWZpY2F0aW9uIiwiaWNvbiIsIk1hdGVyaWFsaXplIiwidG9hc3QiLCJhamF4X21lc3NhZ2VzIiwicmVzcG9uc2UiLCJzdWNjZXNzIiwiZWFjaCIsIm51bWJlciIsImVycm9yIiwiY291bnRfZXZlbnRzIiwibnVtYmVyX29mX2V2ZW50cyIsInRleHQiLCJpMThuIiwiZXZlbnRzIiwidG9nZ2xlX3Jvd19mb2xkIiwicHJldmVudERlZmF1bHQiLCIkbGluayIsIiRyb3ciLCJwYXJlbnRzIiwiZmlyc3QiLCJ0b2dnbGVDbGFzcyIsImhhc0NsYXNzIiwiZG9BY3Rpb24iLCJ2YWwiLCJzY2hlZHVsZSIsInNob3ciLCJoaWRlIiwiJGJ1dHRvbiIsImFjdGlvbiIsIm5vbmNlIiwicG9zdCIsImFqYXh1cmwiLCJzZXJpYWxpemUiLCJzY2hlZHVsZV9uYW1lIiwic2xpZGVVcCIsInNjaGVkdWxlc190YWJsZV9yZXJlbmRlciIsInJlcGxhY2VXaXRoIiwibmFtZSIsInNsdWciLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwic2Vjb25kcyIsIiRpbnB1dCIsIm11bHRpcGxpZXIiLCJ0aW1lciIsImJpbmQiLCJ3aW5kb3ciLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwic2VhcmNoX3dvcmQiLCJpbmRleE9mIiwidGFyZ2V0IiwiJGRldGFpbHMiLCJwYXJlbnQiXSwibWFwcGluZ3MiOiJBQXdCQSxRQUFBQSxnQkFDQUMsS0FBQUMsVUFBQUMsT0FBQSxhQUNBRixLQUFBRyxRQUFBRCxPQUFBLHFCQUNBRixLQUFBSSxhQUFBRixPQUFBLG9CQUVBRixLQUFBSSxhQUFBQyxPQUFBQyxTQUFBTixNQUFBLFNBQUFPLEdBQ0FBLEVBQUFDLEtBQUFGLFNBQUFHLFVBR0FULEtBQUFHLFFBQUFFLE9BQUFDLFNBQUFOLE1BQUEsU0FBQU8sR0FDQUEsRUFBQUMsS0FBQUYsU0FBQUcsVUFHQVQsS0FBQVUsS0FBQSxXQUVBVixLQUFBQyxVQUFBVSxTQUNBQyxlQUFBLEdBQ0EsSUFBQSxpQkFFQVosS0FBQUcsUUFBQVUsT0FBQSxNQUlBYixLQUFBUyxNQUFBLFdBRUEsR0FBQUssR0FBQWQsS0FBQUMsVUFBQWMsS0FBQSxpQkFFQWYsTUFBQUMsVUFBQVUsU0FDQUMsZUFBQSxLQUFBWixLQUFBQyxVQUFBZSxhQUFBLElBQ0EsSUFBQSxnQkFBQSxXQUNBRixFQUFBRyxLQUFBLE1BR0FqQixLQUFBRyxRQUFBZSxRQUFBLE1BSUFsQixLQUFBbUIsS0FBQSxXQUNBbkIsS0FBQUMsVUFBQWMsS0FBQSxZQUFBSyxTQUFBLFlBR0FwQixLQUFBcUIsUUFBQSxTQUFBSixHQUNBakIsS0FBQUMsVUFBQWMsS0FBQSxrQkFBQUUsS0FBQUEsR0FDQWpCLEtBQUFDLFVBQUFj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LE9BRUFULEVBQUFRLFdBUUEvQixHQUFBQyxNQUFBQyxVQUFBLCtDQUFBLFdBQ0FYLEVBQUEsV0FBQXNDLElBQUEsT0FHQS9ELFFDbkNBLFNBQUF5QixHQUVBQSxFQUFBLFdBQUFPLEdBQUEsUUFBQSxtQkFBQSxTQUFBM0IsR0FFQUEsRUFBQWtELGdCQUVBLElBQUFxQyxHQUFBbkUsRUFBQTNCLE1BQUFRLEtBQUEsV0FFQXVGLEVBQUFwRSxFQUFBM0IsTUFBQTRELFFBQUEsWUFBQUMsT0FFQWtDLEdBQUFoRixLQUFBLG1CQUFBTyxZQUFBLFVBQ0FLLEVBQUEzQixNQUFBZ0csU0FBQTVFLFNBQUEsVUFFQTJFLEVBQUFoRixLQUFBLG1CQUFBTyxZQUFBLFVBQ0F5RSxFQUFBaEYsS0FBQSxZQUFBK0UsR0FBQTFFLFNBQUEsVUFFQWdCLEdBQUFDLE1BQUEyQixTQUFBLG1EQUFBOEIsTUFJQTVGIiwiZmlsZSI6InNjcmlwdHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYWR2YW5jZWRfY3Jvbl9tYW5hZ2VyLm5vdGlmeSA9IGZ1bmN0aW9uKCBub3RpZmljYXRpb24sIGljb24gKSB7XG5cblx0aWYgKCB0eXBlb2YgaWNvbiA9PSAndW5kZWZpbmVkJyApIHtcblx0XHRpY29uID0gJyc7XG5cdH0gZWxzZSB7XG5cdFx0aWNvbiA9ICc8c3BhbiBjbGFzcz1cImRhc2hpY29ucyBkYXNoaWNvbnMtJyArIGljb24gKyAnXCI+PC9zcGFuPic7XG5cdH1cblxuXHRNYXRlcmlhbGl6ZS50b2FzdCggaWNvbiArIG5vdGlmaWNhdGlvbiwgNDAwMCApO1xuXG59O1xuXG5hZHZhbmNlZF9jcm9uX21hbmFnZXIuYWpheF9tZXNzYWdlcyA9IGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblxuXHRpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgPT0gdHJ1ZSApIHtcblx0XHRhZHZhbmNlZF9jcm9uX21hbmFnZXIubm90aWZ5KCByZXNwb25zZS5kYXRhLCAneWVzJyApO1xuXHR9IGVsc2Uge1xuXHRcdGpRdWVyeS5lYWNoKCByZXNwb25zZS5kYXRhLCBmdW5jdGlvbiggbnVtYmVyLCBlcnJvciApIHtcblx0XHRcdGFkdmFuY2VkX2Nyb25fbWFuYWdlci5ub3RpZnkoIGVycm9yLCAnd2FybmluZycgKTtcblx0XHR9ICk7XG5cdH1cblxufTtcblxuZnVuY3Rpb24gQUNNX1NsaWRlYmFyKCkge1xuXHR0aGlzLmNvbnRhaW5lciAgICA9IGpRdWVyeSggJy5zbGlkZWJhcicgKTtcblx0dGhpcy5vdmVybGF5ICAgICAgPSBqUXVlcnkoICcuc2xpZGViYXItb3ZlcmxheScgKTtcblx0dGhpcy5jbG9zZV9idXR0b24gPSBqUXVlcnkoICcuc2xpZGViYXIgLmNsb3NlJyApO1xuXG5cdHRoaXMuY2xvc2VfYnV0dG9uLmNsaWNrKCB7IHNsaWRlYmFyOiB0aGlzIH0sIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRldmVudC5kYXRhLnNsaWRlYmFyLmNsb3NlKCk7XG5cdH0gKTtcblxuXHR0aGlzLm92ZXJsYXkuY2xpY2soIHsgc2xpZGViYXI6IHRoaXMgfSwgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdGV2ZW50LmRhdGEuc2xpZGViYXIuY2xvc2UoKTtcblx0fSApO1xuXG5cdHRoaXMub3BlbiA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0dGhpcy5jb250YWluZXIuYW5pbWF0ZSgge1xuXHRcdFx0J21hcmdpbi1yaWdodCc6IDBcblx0XHR9LCA0MDAsICdlYXNlSW5PdXRTaW5lJyApO1xuXG5cdFx0dGhpcy5vdmVybGF5LmZhZGVJbiggNDAwICk7XG5cblx0fTtcblxuXHR0aGlzLmNsb3NlID0gZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgJGZvcm0gPSB0aGlzLmNvbnRhaW5lci5maW5kKCAnLmNvbnRlbnQgLmZvcm0nICk7XG5cblx0XHR0aGlzLmNvbnRhaW5lci5hbmltYXRlKCB7XG5cdFx0XHQnbWFyZ2luLXJpZ2h0JzogJy0nICsgKCB0aGlzLmNvbnRhaW5lci5vdXRlcldpZHRoKCkgKyA1IClcblx0XHR9LCA0MDAsICdlYXNlSW5PdXRTaW5lJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0JGZvcm0uaHRtbCggJycgKTtcblx0XHR9ICk7XG5cblx0XHR0aGlzLm92ZXJsYXkuZmFkZU91dCggNDAwICk7XG5cblx0fTtcblxuXHR0aGlzLndhaXQgPSBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmNvbnRhaW5lci5maW5kKCAnLmNvbnRlbnQnICkuYWRkQ2xhc3MoICdsb2FkaW5nJyApO1xuXHR9O1xuXG5cdHRoaXMuZnVsZmlsbCA9IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHRoaXMuY29udGFpbmVyLmZpbmQoICcuY29udGVudCAuZm9ybScgKS5odG1sKCBodG1sICk7XG5cdFx0dGhpcy5jb250YWluZXIuZmluZCggJy5jb250ZW50JyApLnJlbW92ZUNsYXNzKCAnbG9hZGluZycgKTtcblx0fTtcblxuXHR0aGlzLmZvcm1fcHJvY2Vzc19zdGFydCA9IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHRoaXMuY29udGFpbmVyLmZpbmQoICcuY29udGVudCAuc2VuZC1mb3JtJyApLmF0dHIoICdkaXNhYmxlZCcsIHRydWUgKTtcblx0XHR0aGlzLmNvbnRhaW5lci5maW5kKCAnLmNvbnRlbnQgLnNwaW5uZXInICkuY3NzKCAndmlzaWJpbGl0eScsICd2aXNpYmxlJyApO1xuXHR9O1xuXG5cdHRoaXMuZm9ybV9wcm9jZXNzX3N0b3AgPSBmdW5jdGlvbiggaHRtbCApIHtcblx0XHR0aGlzLmNvbnRhaW5lci5maW5kKCAnLmNvbnRlbnQgLnNlbmQtZm9ybScgKS5hdHRyKCAnZGlzYWJsZWQnLCBmYWxzZSApO1xuXHRcdHRoaXMuY29udGFpbmVyLmZpbmQoICcuY29udGVudCAuc3Bpbm5lcicgKS5jc3MoICd2aXNpYmlsaXR5JywgJ2hpZGRlbicgKTtcblx0fTtcblxufTtcblxuYWR2YW5jZWRfY3Jvbl9tYW5hZ2VyLnNsaWRlYmFyID0gbmV3IEFDTV9TbGlkZWJhcjtcbiIsIiggZnVuY3Rpb24oICQgKSB7XG5cblx0dmFyICRjYl9hbGwgICAgPSAkKCAnLnNpbmdsZS1ldmVudC5oZWFkZXIgLnNlbGVjdC1hbGwnICksXG5cdFx0Y2JfY2hlY2tlZCA9IFtdO1xuXG5cdGZ1bmN0aW9uIGdldF9hbGxfY2hlY2tib3hlcyggY2hlY2tlZCApIHtcblxuXHRcdGNoZWNrZWQgPSB0eXBlb2YgY2hlY2tlZCAhPT0gJ3VuZGVmaW5lZCcgPyBjaGVja2VkIDogZmFsc2U7XG5cblx0XHRpZiAoIGNoZWNrZWQgKSB7XG5cdFx0XHR2YXIgYXBwZW5kaXggPSAnOmNoZWNrZWQnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgYXBwZW5kaXggPSAnJztcblx0XHR9XG5cblx0XHRyZXR1cm4gJCggJyNldmVudHMgLmV2ZW50cyAuc2luZ2xlLWV2ZW50LnJvdzp2aXNpYmxlIC5jYiBpbnB1dDpjaGVja2JveCcgKyBhcHBlbmRpeCApO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBjbGVhcl9hbGxfY2hlY2tib3hlcygpIHtcblx0XHRnZXRfYWxsX2NoZWNrYm94ZXMoKS5wcm9wKCAnY2hlY2tlZCcsIGZhbHNlICk7XG5cdFx0JGNiX2FsbC5wcm9wKCAnY2hlY2tlZCcsIGZhbHNlICk7XG5cdH1cblxuXHQvLyBjaGFuZ2UgYWxsIHJvd3MgaWYgcGFyZW50IGNoZWNrYm94ZXMgaGFzIGJlZW4gY2hhbmdlZFxuXHQkY2JfYWxsLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oKSB7XG5cdFx0Z2V0X2FsbF9jaGVja2JveGVzKCkucHJvcCggJ2NoZWNrZWQnLCB0aGlzLmNoZWNrZWQgKTtcblx0XHQkY2JfYWxsLnByb3AoICdjaGVja2VkJywgdGhpcy5jaGVja2VkICk7XG5cdH0pO1xuXG5cdC8vIGNoZWNrIGlmIHBhcmVudCBjaGVja2JveGVzIHNob3VsZCBiZSBjaGFuZ2VkIHdoZW4gY2hhbmdpbmcgcm93IGNoZWNrYm94ZXNcblx0Z2V0X2FsbF9jaGVja2JveGVzKCkub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcblx0XHQkY2JfYWxsLnByb3AoICdjaGVja2VkJywgKCBnZXRfYWxsX2NoZWNrYm94ZXMoIHRydWUgKS5sZW5ndGggPT0gZ2V0X2FsbF9jaGVja2JveGVzKCkubGVuZ3RoICkgKTtcblx0fSApO1xuXG5cdC8vIGNsZWFyIGFsbCBjaGVja2JveGVzIG9uIHNlYXJjaFxuXHR3cC5ob29rcy5hZGRBY3Rpb24oICdhZHZhbmNlZC1jcm9uLW1hbmFnZXIvZXZlbnRzL3NlYXJjaC90cmlnZ2VyZWQnLCBjbGVhcl9hbGxfY2hlY2tib3hlcyApO1xuXG5cdC8vIGNsZWFyIGFsbCBjaGVja2JveGVzIG9uIGZpbHRlclxuXHR3cC5ob29rcy5hZGRBY3Rpb24oICdhZHZhbmNlZC1jcm9uLW1hbmFnZXIvZXZlbnRzL2ZpbHRlci9zY2hlZHVsZScsIGNsZWFyX2FsbF9jaGVja2JveGVzICk7XG5cbn0gKSggalF1ZXJ5ICk7XG4iLCIoIGZ1bmN0aW9uKCAkICkge1xuXG5cdGZ1bmN0aW9uIGNvdW50X2V2ZW50cygpIHtcblx0XHR2YXIgbnVtYmVyX29mX2V2ZW50cyA9ICQoICcjZXZlbnRzIC5ldmVudHMgLnNpbmdsZS1ldmVudC5yb3c6dmlzaWJsZScgKS5sZW5ndGg7XG5cdFx0JCggJyNldmVudHMgLnRhYmxlbmF2IC50YWJsZW5hdi1wYWdlcyAuZGlzcGxheWluZy1udW0nICkudGV4dCggbnVtYmVyX29mX2V2ZW50cyArICcgJyArIGFkdmFuY2VkX2Nyb25fbWFuYWdlci5pMThuLmV2ZW50cyApO1xuXHR9XG5cblx0d3AuaG9va3MuYWRkQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyL2V2ZW50cy9maWx0ZXIvc2NoZWR1bGUnLCBjb3VudF9ldmVudHMsIDEwMCApO1xuXHR3cC5ob29rcy5hZGRBY3Rpb24oICdhZHZhbmNlZC1jcm9uLW1hbmFnZXIvZXZlbnRzL3NlYXJjaC90cmlnZ2VyZWQnLCBjb3VudF9ldmVudHMsIDEwMCApO1xuXG59ICkoIGpRdWVyeSApO1xuIiwiKCBmdW5jdGlvbiggJCApIHtcblxuXHR2YXIgdG9nZ2xlX3Jvd19mb2xkID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdCRsaW5rID0gJCggdGhpcyApO1xuXHRcdCRyb3cgID0gJGxpbmsucGFyZW50cyggJy5zaW5nbGUtZXZlbnQnICkuZmlyc3QoKTtcblxuXHRcdCRyb3cudG9nZ2xlQ2xhc3MoICd1bmZvbGRlZCcgKTtcblxuXHRcdGlmICggJHJvdy5oYXNDbGFzcyggJ3VuZm9sZGVkJyApICkge1xuXHRcdFx0d3AuaG9va3MuZG9BY3Rpb24oICdhZHZhbmNlZC1jcm9uLW1hbmFnZXIvZXZlbnQvZGV0YWlscy91bmZvbGRlZCcsICRyb3cgKTtcblx0XHR9XG5cblx0fTtcblxuXHQkKCAnI2V2ZW50cycgKS5vbiggJ2NsaWNrJywgJy5jb2x1bW5zIC5ldmVudCAucm93LWFjdGlvbnMgLmRldGFpbHMgYScsIHRvZ2dsZV9yb3dfZm9sZCApO1xuXHQkKCAnI2V2ZW50cycgKS5vbiggJ2NsaWNrJywgJy5jb2x1bW5zIC5ldmVudCAuZXZlbnQtbmFtZScsIHRvZ2dsZV9yb3dfZm9sZCApO1xuXG59ICkoIGpRdWVyeSApO1xuIiwiKCBmdW5jdGlvbiggJCApIHtcblxuXHQkKCAnI2V2ZW50cyAudGFibGVuYXYgLnNjaGVkdWxlcy1maWx0ZXInICkub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcblx0XHR3cC5ob29rcy5kb0FjdGlvbiggJ2FkdmFuY2VkLWNyb24tbWFuYWdlci9ldmVudHMvZmlsdGVyL3NjaGVkdWxlJywgJCggdGhpcyApLnZhbCgpICk7XG5cdH0gKTtcblxuXHQvLyBmaWx0ZXIgdGhlIGV2ZW50cyBsaXN0IHdpdGggc2NoZWR1bGVcblx0d3AuaG9va3MuYWRkQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyL2V2ZW50cy9maWx0ZXIvc2NoZWR1bGUnLCBmdW5jdGlvbiggc2NoZWR1bGUgKSB7XG5cblx0XHQkKCAnI2V2ZW50cyAuZXZlbnRzIC5zaW5nbGUtZXZlbnQucm93JyApLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgJHJvdyA9ICQoIHRoaXMgKTtcblx0XHRcdHZhciBldmVudF9zY2hlZHVsZSA9ICRyb3cuZGF0YSggJ3NjaGVkdWxlJyApO1xuXG5cdFx0XHRpZiAoIGV2ZW50X3NjaGVkdWxlID09IHNjaGVkdWxlIHx8IHNjaGVkdWxlID09ICcnICkge1xuXHRcdFx0XHQkcm93LnNob3coKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCRyb3cuaGlkZSgpO1xuXHRcdFx0fVxuXG5cdFx0fSApO1xuXG5cdH0gKTtcblxuXHQvLyBjbGVhciBmaWx0ZXJzIHdoaWxlIHVzaW5nIHNlYXJjaFxuXHR3cC5ob29rcy5hZGRBY3Rpb24oICdhZHZhbmNlZC1jcm9uLW1hbmFnZXIvZXZlbnRzL3NlYXJjaC90cmlnZ2VyZWQnLCBmdW5jdGlvbigpIHtcblx0XHQkKCAnI2V2ZW50cyAudGFibGVuYXYgLnNjaGVkdWxlcy1maWx0ZXInICkudmFsKCAnJyApO1xuXHR9ICk7XG5cbn0gKSggalF1ZXJ5ICk7XG4iLCIoIGZ1bmN0aW9uKCAkICkge1xuXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy9cblx0Ly8gZm9ybSByZXF1ZXN0cyAvL1xuXHQvLy8vLy8vLy8vLy8vLy8vLy8vXG5cblx0JCggJy50b29sc19wYWdlX2FkdmFuY2VkLWNyb24tbWFuYWdlcicgKS5vbiggJ2NsaWNrJywgJy5hZGQtc2NoZWR1bGUnLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHdwLmhvb2tzLmRvQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyL3NjaGVkdWxlL2FkZCcsICQodGhpcykgKTtcblxuXHR9ICk7XG5cblx0JCggJy50b29sc19wYWdlX2FkdmFuY2VkLWNyb24tbWFuYWdlcicgKS5vbiggJ2NsaWNrJywgJyNzY2hlZHVsZXMgLnNpbmdsZS1zY2hlZHVsZSAuYWN0aW9ucyAuZWRpdC1zY2hlZHVsZScsIGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0d3AuaG9va3MuZG9BY3Rpb24oICdhZHZhbmNlZC1jcm9uLW1hbmFnZXIvc2NoZWR1bGUvZWRpdCcsICQodGhpcykucGFyZW50cyggJy5zaW5nbGUtc2NoZWR1bGUnICkuZmlyc3QoKSApO1xuXG5cdH0gKTtcblxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0Ly8gZm9ybSBwcm9jZXNzaW5nIC8vXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cdCQoICcuc2xpZGViYXInICkub24oICdzdWJtaXQnLCAnLnNjaGVkdWxlLWFkZCcsIGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0d3AuaG9va3MuZG9BY3Rpb24oICdhZHZhbmNlZC1jcm9uLW1hbmFnZXIvc2NoZWR1bGUvYWRkL3Byb2Nlc3MnLCAkKHRoaXMpICk7XG5cblx0fSApO1xuXG5cdCQoICcuc2xpZGViYXInICkub24oICdzdWJtaXQnLCAnLnNjaGVkdWxlLWVkaXQnLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHdwLmhvb2tzLmRvQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyL3NjaGVkdWxlL2VkaXQvcHJvY2VzcycsICQodGhpcykgKTtcblxuXHR9ICk7XG5cblx0JCggJy50b29sc19wYWdlX2FkdmFuY2VkLWNyb24tbWFuYWdlcicgKS5vbiggJ2NsaWNrJywgJyNzY2hlZHVsZXMgLnNpbmdsZS1zY2hlZHVsZSAuYWN0aW9ucyAucmVtb3ZlLXNjaGVkdWxlJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR3cC5ob29rcy5kb0FjdGlvbiggJ2FkdmFuY2VkLWNyb24tbWFuYWdlci9zY2hlZHVsZS9yZW1vdmUvcHJvY2VzcycsICQodGhpcykucGFyZW50cyggJy5zaW5nbGUtc2NoZWR1bGUnICkuZmlyc3QoKSApO1xuXG5cdH0gKTtcblxuXHQvLy8vLy8vLy8vLy8vXG5cdC8vIEFjdGlvbnMgLy9cblx0Ly8vLy8vLy8vLy8vL1xuXG5cdC8vIGFkZCBzY2hlZHVsZVxuXHR3cC5ob29rcy5hZGRBY3Rpb24oICdhZHZhbmNlZC1jcm9uLW1hbmFnZXIvc2NoZWR1bGUvYWRkJywgZnVuY3Rpb24oICRidXR0b24gKSB7XG5cblx0XHRhZHZhbmNlZF9jcm9uX21hbmFnZXIuc2xpZGViYXIub3BlbigpO1xuXHRcdGFkdmFuY2VkX2Nyb25fbWFuYWdlci5zbGlkZWJhci53YWl0KCk7XG5cblx0XHR2YXIgZGF0YSA9IHtcblx0ICAgICAgICAnYWN0aW9uJzogJ2FjbS9zY2hlZHVsZS9hZGQvZm9ybScsXG5cdCAgICAgICAgJ25vbmNlJyA6ICRidXR0b24uZGF0YSggJ25vbmNlJyApXG5cdCAgICB9O1xuXG5cdCAgICAkLnBvc3QoIGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblx0ICAgICAgICBhZHZhbmNlZF9jcm9uX21hbmFnZXIuc2xpZGViYXIuZnVsZmlsbCggcmVzcG9uc2UuZGF0YSApO1xuXHQgICAgfSApO1xuXG5cdH0gKTtcblxuXHR3cC5ob29rcy5hZGRBY3Rpb24oICdhZHZhbmNlZC1jcm9uLW1hbmFnZXIvc2NoZWR1bGUvYWRkL3Byb2Nlc3MnLCBmdW5jdGlvbiggJGZvcm0gKSB7XG5cblx0XHRhZHZhbmNlZF9jcm9uX21hbmFnZXIuc2xpZGViYXIuZm9ybV9wcm9jZXNzX3N0YXJ0KCk7XG5cblx0XHR2YXIgZGF0YSA9IHtcblx0ICAgICAgICAnYWN0aW9uJzogJ2FjbS9zY2hlZHVsZS9pbnNlcnQnLFxuXHQgICAgICAgICdub25jZScgOiAkZm9ybS5maW5kKCAnI25vbmNlJyApLnZhbCgpLFxuXHQgICAgICAgICdkYXRhJyAgOiAkZm9ybS5zZXJpYWxpemUoKVxuXHQgICAgfTtcblxuXHQgICAgJC5wb3N0KCBhamF4dXJsLCBkYXRhLCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cblx0ICAgIFx0YWR2YW5jZWRfY3Jvbl9tYW5hZ2VyLmFqYXhfbWVzc2FnZXMoIHJlc3BvbnNlICk7XG5cblx0ICAgICAgICBpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgPT0gdHJ1ZSApIHtcblx0ICAgICAgICBcdHdwLmhvb2tzLmRvQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyL3NjaGVkdWxlL2FkZGVkJywgJGZvcm0uZmluZCggJyNzY2hlZHVsZS1zbHVnJyApLnZhbCgpICk7XG5cdCAgICAgICAgfVxuXG5cdCAgICB9ICk7XG5cblx0fSApO1xuXG5cdC8vIGVkaXQgc2NoZWR1bGVcblx0d3AuaG9va3MuYWRkQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyL3NjaGVkdWxlL2VkaXQnLCBmdW5jdGlvbiggJHJvdyApIHtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR2YXIgJGJ1dHRvbiA9ICRyb3cuZmluZCggJy5hY3Rpb25zIC5lZGl0LXNjaGVkdWxlJyApO1xuXHRcdHZhciBzY2hlZHVsZV9uYW1lID0gJGJ1dHRvbi5kYXRhKCAnc2NoZWR1bGUnICk7XG5cblx0XHRhZHZhbmNlZF9jcm9uX21hbmFnZXIuc2xpZGViYXIub3BlbigpO1xuXHRcdGFkdmFuY2VkX2Nyb25fbWFuYWdlci5zbGlkZWJhci53YWl0KCk7XG5cblx0XHR2YXIgZGF0YSA9IHtcblx0ICAgICAgICAnYWN0aW9uJyAgOiAnYWNtL3NjaGVkdWxlL2VkaXQvZm9ybScsXG5cdCAgICAgICAgJ25vbmNlJyAgIDogJGJ1dHRvbi5kYXRhKCAnbm9uY2UnICksXG5cdCAgICAgICAgJ3NjaGVkdWxlJzogc2NoZWR1bGVfbmFtZVxuXHQgICAgfTtcblxuXHQgICAgJC5wb3N0KCBhamF4dXJsLCBkYXRhLCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cdCAgICAgICAgYWR2YW5jZWRfY3Jvbl9tYW5hZ2VyLnNsaWRlYmFyLmZ1bGZpbGwoIHJlc3BvbnNlLmRhdGEgKTtcblx0ICAgIH0gKTtcblxuXHR9ICk7XG5cblx0d3AuaG9va3MuYWRkQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyL3NjaGVkdWxlL2VkaXQvcHJvY2VzcycsIGZ1bmN0aW9uKCAkZm9ybSApIHtcblxuXHRcdGFkdmFuY2VkX2Nyb25fbWFuYWdlci5zbGlkZWJhci5mb3JtX3Byb2Nlc3Nfc3RhcnQoKTtcblxuXHRcdHZhciBkYXRhID0ge1xuXHQgICAgICAgICdhY3Rpb24nOiAnYWNtL3NjaGVkdWxlL2VkaXQnLFxuXHQgICAgICAgICdub25jZScgOiAkZm9ybS5maW5kKCAnI25vbmNlJyApLnZhbCgpLFxuXHQgICAgICAgICdkYXRhJyAgOiAkZm9ybS5zZXJpYWxpemUoKVxuXHQgICAgfTtcblxuXHQgICAgJC5wb3N0KCBhamF4dXJsLCBkYXRhLCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cblx0ICAgIFx0YWR2YW5jZWRfY3Jvbl9tYW5hZ2VyLmFqYXhfbWVzc2FnZXMoIHJlc3BvbnNlICk7XG5cblx0ICAgICAgICBpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgPT0gdHJ1ZSApIHtcblx0ICAgICAgICBcdHdwLmhvb2tzLmRvQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyL3NjaGVkdWxlL2VkaXRlZCcsICRmb3JtLmZpbmQoICcjc2NoZWR1bGUtc2x1ZycgKS52YWwoKSApO1xuXHQgICAgICAgIH1cblxuXHQgICAgfSApO1xuXG5cdH0gKTtcblxuXHQvLyByZW1vdmUgc2NoZWR1bGVcblx0d3AuaG9va3MuYWRkQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyL3NjaGVkdWxlL3JlbW92ZS9wcm9jZXNzJywgZnVuY3Rpb24oICRyb3cgKSB7XG5cblx0XHR2YXIgJGJ1dHRvbiA9ICRyb3cuZmluZCggJy5hY3Rpb25zIC5yZW1vdmUtc2NoZWR1bGUnICk7XG5cblx0XHQkYnV0dG9uLmFkZENsYXNzKCAnd29ya2luZycgKTtcblxuXHRcdHZhciBzY2hlZHVsZV9uYW1lID0gJGJ1dHRvbi5kYXRhKCAnc2NoZWR1bGUnICk7XG5cblx0ICAgIHZhciBkYXRhID0ge1xuXHQgICAgICAgICdhY3Rpb24nICA6ICdhY20vc2NoZWR1bGUvcmVtb3ZlJyxcblx0ICAgICAgICAnbm9uY2UnICAgOiAkYnV0dG9uLmRhdGEoICdub25jZScgKSxcblx0ICAgICAgICAnc2NoZWR1bGUnOiBzY2hlZHVsZV9uYW1lXG5cdCAgICB9O1xuXG5cdCAgICAkLnBvc3QoIGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblxuXHQgICAgICAgIGFkdmFuY2VkX2Nyb25fbWFuYWdlci5hamF4X21lc3NhZ2VzKCByZXNwb25zZSApO1xuXG5cdCAgICAgICAgaWYgKCByZXNwb25zZS5zdWNjZXNzID09IHRydWUgKSB7XG5cdCAgICAgICAgXHQkcm93LnNsaWRlVXAoKTtcblx0ICAgICAgICBcdHdwLmhvb2tzLmRvQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyL3NjaGVkdWxlL3JlbW92ZWQnLCBzY2hlZHVsZV9uYW1lICk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBcdCRidXR0b24ucmVtb3ZlQ2xhc3MoICd3b3JraW5nJyApO1xuXHQgICAgICAgIH1cblxuXHQgICAgfSApO1xuXG5cdH0gKTtcblxuXHQvLyByZWZyZXNoIHRhYmxlIGFuZCBjbG9zZSBzbGlkZWJhclxuXHR2YXIgc2NoZWR1bGVzX3RhYmxlX3JlcmVuZGVyID0gZnVuY3Rpb24oKSB7XG5cblx0XHQkKCAnI3NjaGVkdWxlcycgKS5hZGRDbGFzcyggJ2xvYWRpbmcnICk7XG5cblx0ICAgICQucG9zdCggYWpheHVybCwgeyAnYWN0aW9uJzogJ2FjbS9yZXJlbmRlci9zY2hlZHVsZXMnIH0sIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblx0ICAgIFx0JCggJyNzY2hlZHVsZXMnICkucmVwbGFjZVdpdGgoIHJlc3BvbnNlLmRhdGEgKTtcblx0ICAgIFx0YWR2YW5jZWRfY3Jvbl9tYW5hZ2VyLnNsaWRlYmFyLmZvcm1fcHJvY2Vzc19zdG9wKCk7XG5cdFx0XHRhZHZhbmNlZF9jcm9uX21hbmFnZXIuc2xpZGViYXIuY2xvc2UoKTtcblx0ICAgIH0gKTtcblxuXHR9O1xuXG5cdHdwLmhvb2tzLmFkZEFjdGlvbiggJ2FkdmFuY2VkLWNyb24tbWFuYWdlci9zY2hlZHVsZS9hZGRlZCcsIHNjaGVkdWxlc190YWJsZV9yZXJlbmRlciApO1xuXHR3cC5ob29rcy5hZGRBY3Rpb24oICdhZHZhbmNlZC1jcm9uLW1hbmFnZXIvc2NoZWR1bGUvZWRpdGVkJywgc2NoZWR1bGVzX3RhYmxlX3JlcmVuZGVyICk7XG5cblx0Ly8gYWRkIHNjaGVkdWxlIGZvcm0gaGVscGVyc1xuXHQkKCAnLnNsaWRlYmFyJyApLm9uKCAnYmx1cicsICcjc2NoZWR1bGUtbmFtZScsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuYW1lID0gJCh0aGlzKS52YWwoKTtcblx0XHRpZiAoICQoICcuc2xpZGViYXIgI3NjaGVkdWxlLXNsdWcnICkudmFsKCkgPT0gJycgKSB7XG5cdFx0XHR2YXIgc2x1ZyA9IG5hbWUudHJpbSgpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSggLyAvZywgJ18nICk7XG5cdFx0XHQkKCAnLnNsaWRlYmFyICNzY2hlZHVsZS1zbHVnJyApLnZhbCggc2x1ZyApO1xuXHRcdH1cblx0fSApO1xuXG5cdCQoICcuc2xpZGViYXInICkub24oICdjaGFuZ2UnLCAndGFibGUgLnNwaW5ib3gnLCBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBzZWNvbmRzID0gMDtcblxuXHRcdCQoICcuc2xpZGViYXIgdGFibGUgLnNwaW5ib3gnICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciAkaW5wdXQgPSAkKCB0aGlzICk7XG5cblx0XHRcdGlmICggJGlucHV0Lmhhc0NsYXNzKCAnZGF5cycgKSApIHtcblx0XHRcdFx0dmFyIG11bHRpcGxpZXIgPSA4NjQwMDtcblx0XHRcdH0gZWxzZSBpZiAoICRpbnB1dC5oYXNDbGFzcyggJ2hvdXJzJyApICkge1xuXHRcdFx0XHR2YXIgbXVsdGlwbGllciA9IDM2MDA7XG5cdFx0XHR9IGVsc2UgaWYgKCAkaW5wdXQuaGFzQ2xhc3MoICdtaW51dGVzJyApICkge1xuXHRcdFx0XHR2YXIgbXVsdGlwbGllciA9IDYwO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIG11bHRpcGxpZXIgPSAxO1xuXHRcdFx0fVxuXG5cdFx0XHRzZWNvbmRzID0gc2Vjb25kcyArICggJGlucHV0LnZhbCgpICogbXVsdGlwbGllciApO1xuXG5cdFx0fSApO1xuXG5cdFx0JCggJy5zbGlkZWJhciAudG90YWwtc2Vjb25kcyBzcGFuJyApLnRleHQoIHNlY29uZHMgKTtcblx0XHQkKCAnLnNsaWRlYmFyIC5pbnRlcnZhbC1pbnB1dCcgKS52YWwoIHNlY29uZHMgKTtcblxuXHR9ICk7XG5cbn0gKSggalF1ZXJ5ICk7XG4iLCIoIGZ1bmN0aW9uKCAkICkge1xuXG5cdHZhciBzZWFyY2hfaW5wdXRfZGVsYXkgPSA0MDAsXG5cdFx0dGltZXI7XG5cblx0JCggJyNzZWFyY2gnICkuYmluZCggJ2lucHV0JywgZnVuY3Rpb24oKSB7XG5cdFx0d2luZG93LmNsZWFyVGltZW91dCggdGltZXIgKTtcblx0XHR0aW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdHdwLmhvb2tzLmRvQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyL2V2ZW50cy9zZWFyY2gvdHJpZ2dlcmVkJywgJCggJyNzZWFyY2gnICkudmFsKCkgKTtcblx0XHR9LCBzZWFyY2hfaW5wdXRfZGVsYXkgKTtcblx0fSApO1xuXG5cdC8vIGZpbHRlciB0aGUgZXZlbnRzIGxpc3Rcblx0d3AuaG9va3MuYWRkQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyL2V2ZW50cy9zZWFyY2gvdHJpZ2dlcmVkJywgZnVuY3Rpb24oIHNlYXJjaF93b3JkICkge1xuXG5cdFx0JCggJyNldmVudHMgLmV2ZW50cyAuc2luZ2xlLWV2ZW50LnJvdycgKS5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyICRyb3cgPSAkKCB0aGlzICk7XG5cdFx0XHR2YXIgZXZlbnRfbmFtZSA9ICRyb3cuZmluZCggJy5jb2x1bW5zIC5ldmVudCAuZXZlbnQtbmFtZScgKS50ZXh0KCk7XG5cblx0XHRcdGlmICggZXZlbnRfbmFtZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoIHNlYXJjaF93b3JkLnRvTG93ZXJDYXNlKCkgKSA9PSAtMSApIHtcblx0XHRcdFx0JHJvdy5oaWRlKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkcm93LnNob3coKTtcblx0XHRcdH1cblxuXHRcdH0gKTtcblxuXHR9ICk7XG5cblx0Ly8gY2xlYXIgc2VhcmNoIGlucHV0IHdoaWxlIHVzaW5nIGZpbHRlcnNcblx0d3AuaG9va3MuYWRkQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyL2V2ZW50cy9maWx0ZXIvc2NoZWR1bGUnLCBmdW5jdGlvbigpIHtcblx0XHQkKCAnI3NlYXJjaCcgKS52YWwoICcnICk7XG5cdH0gKTtcblxufSApKCBqUXVlcnkgKTtcbiIsIiggZnVuY3Rpb24oICQgKSB7XG5cblx0JCggJyNldmVudHMnICkub24oICdjbGljaycsICcuZGV0YWlscyAudGFicyBhJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdHZhciB0YXJnZXQgPSAkKCB0aGlzICkuZGF0YSggJ3NlY3Rpb24nICk7XG5cblx0XHR2YXIgJGRldGFpbHMgPSAkKCB0aGlzICkucGFyZW50cyggJy5kZXRhaWxzJyApLmZpcnN0KCk7XG5cblx0XHQkZGV0YWlscy5maW5kKCAnLnRhYnMgbGkuYWN0aXZlJyApLnJlbW92ZUNsYXNzKCAnYWN0aXZlJyApO1xuXHRcdCQoIHRoaXMgKS5wYXJlbnQoKS5hZGRDbGFzcyggJ2FjdGl2ZScgKTtcblxuXHRcdCRkZXRhaWxzLmZpbmQoICcuY29udGVudC5hY3RpdmUnICkucmVtb3ZlQ2xhc3MoICdhY3RpdmUnICk7XG5cdFx0JGRldGFpbHMuZmluZCggJy5jb250ZW50LicgKyB0YXJnZXQgKS5hZGRDbGFzcyggJ2FjdGl2ZScgKTtcblxuXHRcdHdwLmhvb2tzLmRvQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyL2V2ZW50L2RldGFpbHMvdGFicy9jaGFuZ2VkJywgdGFyZ2V0ICk7XG5cblx0fSApO1xuXG59ICkoIGpRdWVyeSApO1xuIl19
